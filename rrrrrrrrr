server {
    server_name 10.0.2.15;

    location = /favicon.ico { access_log off; log_not_found off; }
    location /static/ {
        root /home/vboxuser/SuperWebProgramming/car/carapp/static;
    }

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    listen 80;
}

[Unit]
Description=gunicorn daemon for car
After=network.target

[Service]
User=your_user
Group=your_group
WorkingDirectory=/path/to/your/project
ExecStart=/path/to/your/venv/bin/gunicorn --workers 3 --bind unix:/path/to/your/project/car.sock car.wsgi:application

[Install]
WantedBy=multi-user.target




document.addEventListener("DOMContentLoaded", () => {
    // Функция для движения слайдов
    function move(panel, direction) {
        let objects = Array.from(panel.getElementsByClassName('popular_auto_item'));
        let translateWidth = objects[0].offsetWidth + 16; // Ширина одного элемента

        // Находим индекс элемента с классом item_big
        let bigIndex = objects.findIndex(item => item.classList.contains('item_big'));
        
        // Проверяем, куда двигать элемент с item_big
        if (direction === 1 && bigIndex > 0) {
            // Двигаем влево: если bigIndex не первый, то передвигаем его
            objects[bigIndex].classList.remove('item_big');
            objects[bigIndex - 1].classList.add('item_big');
        } else if (direction === -1 && bigIndex < objects.length - 1) {
            // Двигаем вправо: если bigIndex не последний, то передвигаем его
            objects[bigIndex].classList.remove('item_big');
            objects[bigIndex + 1].classList.add('item_big');
        }

        // Перемещаем все элементы, чтобы создать эффект движения
        let offset = -bigIndex * (translateWidth + 30); // Сдвиг в зависимости от позиции item_big
        objects.forEach(item => {
            item.style.transform = `translateX(${offset}px)`; // Применяем трансформацию для каждого элемента
        });
    }

    // Обработчик событий для всех панелей
    let panels = document.querySelectorAll('.popular_auto');
    panels.forEach(panel => {
        let swipper = panel.querySelector('.swipper');
        panel.swipper = swipper; // Присваиваем элемент слайдера

        // Обработчик кликов на панели
        panel.addEventListener('click', event => {
            let parent = event.target.parentNode;
            let objects = panel.getElementsByClassName('popular_auto_item');
            let index_g = 0;
            let element_next = null;

            // Проверка на навигацию вправо
            if (event.target.classList.contains('nav_right')) {
                move(panel, -1); // Двигаем вправо
            }

            // Проверка на навигацию влево
            if (event.target.classList.contains('nav_left')) {
                move(panel, 1); // Двигаем влево
            }
        });
    });
});
