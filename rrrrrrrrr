server {
    server_name 10.0.2.15;

    location = /favicon.ico { access_log off; log_not_found off; }
    location /static/ {
        root /home/vboxuser/SuperWebProgramming/car/carapp/static;
    }

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    listen 80;
}

[Unit]
Description=gunicorn daemon for car
After=network.target

[Service]
User=your_user
Group=your_group
WorkingDirectory=/path/to/your/project
ExecStart=/path/to/your/venv/bin/gunicorn --workers 3 --bind unix:/path/to/your/project/car.sock car.wsgi:application

[Install]
WantedBy=multi-user.target




document.addEventListener("DOMContentLoaded", () => {
    // Функция для движения слайдов
    function move(panel, direction) {
        let objects = Array.from(panel.getElementsByClassName('popular_auto_item'));
        let translateWidth = objects[0].offsetWidth + 16; // Ширина одного элемента

        // Находим индекс элемента с классом item_big
        let bigIndex = objects.findIndex(item => item.classList.contains('item_big'));
        
        // Если сдвигаем вправо, элемент с item_big перемещается на следующую позицию
        if (direction === -1 && bigIndex < objects.length - 1) {
            // Двигаем вправо: передвигаем item_big в следующую позицию
            objects[bigIndex].classList.remove('item_big');
            objects[bigIndex + 1].classList.add('item_big');
        }
        // Если сдвигаем влево, элемент с item_big перемещается на предыдущую позицию
        if (direction === 1 && bigIndex > 0) {
            // Двигаем влево: передвигаем item_big в предыдущую позицию
            objects[bigIndex].classList.remove('item_big');
            objects[bigIndex - 1].classList.add('item_big');
        }

        // Смещаем элементы как карусель: передвигаем их влево или вправо
        if (direction === -1) {
            // Если сдвиг вправо, первый элемент уходит в конец
            let firstItem = objects.shift();
            panel.querySelector('.swipper').appendChild(firstItem); // Перемещаем первый элемент в конец
        } else if (direction === 1) {
            // Если сдвиг влево, последний элемент уходит в начало
            let lastItem = objects.pop();
            panel.querySelector('.swipper').insertBefore(lastItem, objects[0]); // Перемещаем последний элемент в начало
        }

        // Применяем трансформацию ко всем элементам
        objects.forEach(item => {
            item.style.transition = 'transform 0.5s'; // Плавный переход для сдвига
            item.style.transform = `translateX(0px)`; // Обнуляем трансформацию
        });
    }

    // Обработчик событий для всех панелей
    let panels = document.querySelectorAll('.popular_auto');
    panels.forEach(panel => {
        let swipper = panel.querySelector('.swipper');
        panel.swipper = swipper; // Присваиваем элемент слайдера

        // Обработчик кликов на панели
        panel.addEventListener('click', event => {
            let objects = panel.getElementsByClassName('popular_auto_item');
            let element_next = null;

            // Проверка на навигацию вправо
            if (event.target.classList.contains('nav_right')) {
                move(panel, -1); // Сдвиг вправо
            }

            // Проверка на навигацию влево
   
